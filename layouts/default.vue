<template>
  <div>
    <header>
      <div class="promoheader">
        <div>
          <h1><span>Ai</span>terator âœ¨</h1>
          <h2>by Leniolabs_</h2>
        </div>
      </div>
      <!--       <div class="welcome-banner">
        Welcome to AIterator! This app lets you effortlessly create and
        customize blocks within a grid. Click and drag to define areas, adjust
        columns, rows, and more to perfect your layout. Click Generate and watch
        as your ideas take shape on the grid!
      </div>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        version="1.1"
        id="Layer_1"
        x="0"
        y="0"
        viewBox="0 0 481.1 235.9"
        xml:space="preserve"
      >
        <path
          class="st0"
          d="M290.6 200.5H34.2V35.1h256.4v41.2h-8.4V43.5H42.6v148.6h239.6v-34.8h8.4z"
        />
        <path
          class="st0"
          d="M96.7 133.7h20.6v6.9H88.2V96.5h8.5v37.2zm43.7 7.5c-2.5 0-4.8-.4-6.9-1.2s-3.8-2-5.3-3.4-2.6-3.1-3.4-5c-.8-1.9-1.2-4-1.2-6.2v-1.2c0-2.5.4-4.8 1.2-6.9.8-2.1 1.9-3.8 3.3-5.3s3.1-2.7 5-3.5c1.9-.8 4-1.2 6.3-1.2 2.4 0 4.5.4 6.3 1.2 1.8.8 3.4 1.9 4.7 3.3 1.3 1.4 2.3 3.1 2.9 5.1.7 2 1 4.2 1 6.6v3.6h-22.2c.2 1.1.5 2.1 1 3 .5.9 1.1 1.7 1.9 2.4.8.7 1.6 1.2 2.6 1.5 1 .4 2.1.5 3.2.5.8 0 1.6-.1 2.5-.2.8-.2 1.6-.4 2.3-.7.7-.3 1.4-.7 2.1-1.2.6-.5 1.2-1 1.7-1.6l4.2 4.5c-.5.7-1.2 1.5-2 2.2-.8.7-1.8 1.4-3 1.9-1.1.6-2.4 1-3.8 1.3s-2.8.5-4.4.5zm-1-27.2c-.9 0-1.8.2-2.6.5s-1.5.8-2.1 1.4c-.6.6-1.1 1.4-1.5 2.2-.4.9-.7 1.8-.9 2.9h13.8v-.7c0-.9-.2-1.7-.5-2.5s-.7-1.5-1.3-2c-.6-.6-1.3-1-2.1-1.4-.8-.2-1.7-.4-2.8-.4zm29.3-6.2.5 4.5c1.2-1.6 2.6-2.9 4.3-3.8 1.7-.9 3.5-1.3 5.6-1.3 1.7 0 3.2.2 4.5.7 1.4.5 2.6 1.3 3.6 2.3 1 1.1 1.8 2.4 2.3 4.1.6 1.7.8 3.7.8 6.1v20.2h-8.4v-20c0-1.3-.1-2.4-.4-3.2-.3-.8-.7-1.5-1.3-2s-1.2-.8-2-1c-.8-.2-1.6-.3-2.6-.3-1.4 0-2.7.3-3.7.9-1 .6-1.8 1.4-2.5 2.4v23.3H161v-32.8h7.7zm31.2 0h17.8v25.9h8.9v6.8h-26.7v-6.8h9.3v-19h-9.3v-6.9zm8.8-8.4c0-.6.1-1.2.3-1.8.2-.6.6-1 1-1.4.4-.4.9-.7 1.5-.9.6-.2 1.3-.3 2-.3 1.5 0 2.7.4 3.6 1.3.9.8 1.3 1.9 1.3 3.2 0 1.3-.4 2.4-1.3 3.2-.9.8-2.1 1.3-3.6 1.3-.7 0-1.4-.1-2-.3-.6-.2-1.1-.5-1.5-.9-.4-.4-.8-.9-1-1.4-.2-.7-.3-1.3-.3-2zm24.4 24.5c0-2.4.3-4.6 1-6.6s1.7-3.8 3-5.3 2.9-2.7 4.8-3.5 4.1-1.3 6.6-1.3 4.7.4 6.6 1.3 3.5 2 4.9 3.5c1.3 1.5 2.3 3.3 3 5.3.7 2 1 4.2 1 6.6v.6c0 2.4-.3 4.6-1 6.6s-1.7 3.8-3 5.3-2.9 2.7-4.8 3.5c-1.9.8-4.1 1.3-6.5 1.3-2.5 0-4.7-.4-6.6-1.3-1.9-.8-3.6-2-4.9-3.5-1.3-1.5-2.3-3.3-3-5.3-.7-2-1-4.2-1-6.6v-.6zm8.4.6c0 1.4.1 2.7.4 3.9.3 1.2.7 2.3 1.2 3.1.6.9 1.3 1.6 2.2 2.1.9.5 2 .8 3.3.8 1.2 0 2.3-.3 3.2-.8.9-.5 1.6-1.2 2.2-2.1.6-.9 1-1.9 1.2-3.1.3-1.2.4-2.5.4-3.9v-.6c0-1.3-.1-2.6-.4-3.8-.3-1.2-.7-2.2-1.2-3.1-.6-.9-1.3-1.6-2.2-2.1-.9-.5-2-.8-3.2-.8-1.3 0-2.3.3-3.2.8-.9.5-1.6 1.2-2.2 2.1-.6.9-1 2-1.2 3.1-.3 1.2-.4 2.5-.4 3.8v.6zm31.1-30.4h18.3v39.7h9.4v6.8h-27.7v-6.8h9.8V101h-9.8v-6.9zm55.3 46.5c-.2-.4-.4-.9-.5-1.4-.1-.5-.3-1.1-.4-1.7-.5.5-1 1-1.6 1.4-.6.4-1.3.8-2 1.2-.7.3-1.5.6-2.4.8-.9.2-1.8.3-2.9.3-1.7 0-3.2-.2-4.6-.7-1.4-.5-2.6-1.2-3.6-2-1-.9-1.8-1.9-2.4-3.1-.6-1.2-.8-2.5-.8-3.9 0-3.5 1.3-6.1 3.9-8 2.6-1.9 6.4-2.8 11.5-2.8h4.7v-1.9c0-1.6-.5-2.8-1.5-3.7-1-.9-2.5-1.4-4.5-1.4-1.7 0-3 .4-3.8 1.1-.8.7-1.2 1.7-1.2 3h-8.4c0-1.4.3-2.7.9-4 .6-1.3 1.5-2.4 2.7-3.3 1.2-.9 2.6-1.7 4.3-2.3 1.7-.6 3.7-.8 5.9-.8 2 0 3.8.2 5.5.7 1.7.5 3.2 1.2 4.4 2.1 1.3.9 2.2 2.1 2.9 3.6.7 1.4 1.1 3.1 1.1 5v14c0 1.8.1 3.2.3 4.4s.5 2.1 1 3v.5h-8.5zm-8-5.9c.8 0 1.6-.1 2.4-.3.7-.2 1.4-.5 2-.8.6-.3 1.1-.7 1.5-1.1.4-.4.8-.8 1-1.3v-5.6h-4.3c-1.3 0-2.4.1-3.4.4-.9.3-1.7.6-2.3 1.1-.6.5-1 1-1.3 1.6-.3.6-.4 1.3-.4 2.1 0 1.1.4 2.1 1.2 2.8.8.7 2 1.1 3.6 1.1zm53.7-10.2c0 2.4-.3 4.7-.8 6.7s-1.3 3.8-2.4 5.3c-1.1 1.5-2.4 2.6-4 3.4-1.6.8-3.5 1.2-5.6 1.2-1.9 0-3.6-.4-5-1.1-1.4-.7-2.6-1.7-3.6-3l-.4 3.5h-7.6V94.1h8.4v16.7c1-1.1 2.1-2 3.4-2.6 1.3-.6 2.9-.9 4.6-.9 2.1 0 4 .4 5.6 1.2 1.6.8 2.9 2 4 3.5s1.9 3.2 2.4 5.3c.5 2 .8 4.3.8 6.7v.5zm-8.5-.6c0-1.3-.1-2.6-.3-3.8-.2-1.2-.6-2.2-1-3.1-.5-.9-1.2-1.6-2-2.1s-1.9-.8-3.2-.8c-1.5 0-2.8.3-3.7 1-1 .6-1.7 1.5-2.2 2.7v13c.5 1.1 1.3 2 2.2 2.7 1 .6 2.2 1 3.8 1 1.3 0 2.3-.2 3.1-.7.8-.5 1.5-1.2 2-2.1.5-.9.8-1.9 1-3.1.2-1.2.3-2.5.3-3.9v-.8zm36.7 7.7c0-.5-.1-.9-.3-1.3-.2-.4-.6-.7-1.2-1.1-.6-.3-1.4-.6-2.4-.9-1-.3-2.2-.6-3.8-.8-1.9-.4-3.7-.9-5.3-1.4-1.6-.6-2.9-1.3-4.1-2.1-1.1-.8-2-1.8-2.6-2.8-.6-1.1-1-2.3-1-3.7 0-1.4.3-2.6 1-3.9.6-1.2 1.6-2.3 2.8-3.2 1.2-.9 2.7-1.7 4.4-2.2 1.7-.5 3.7-.8 5.9-.8 2.3 0 4.3.3 6.1.8 1.8.5 3.4 1.3 4.6 2.2 1.3.9 2.2 2.1 2.9 3.3.7 1.3 1 2.7 1 4.2h-8.4c0-1.3-.5-2.3-1.5-3.2-1-.9-2.6-1.3-4.7-1.3-2 0-3.4.4-4.4 1.1-1 .7-1.5 1.6-1.5 2.6 0 .5.1.9.3 1.3.2.4.6.8 1.1 1.1.5.3 1.2.6 2.1.9.9.3 2 .5 3.4.7 2 .3 3.8.7 5.5 1.2 1.7.5 3.2 1.2 4.4 2 1.2.8 2.2 1.8 2.9 2.9.7 1.1 1 2.5 1 4.1 0 1.5-.3 2.8-1 4-.7 1.2-1.7 2.3-3 3.2-1.3.9-2.8 1.6-4.6 2.1-1.8.5-3.8.7-6.1.7-2.5 0-4.6-.3-6.5-1s-3.5-1.5-4.7-2.5c-1.3-1-2.2-2.2-2.9-3.5-.7-1.3-1-2.6-1-4h8c.1.9.3 1.6.7 2.3.4.6 1 1.2 1.6 1.5.7.4 1.4.7 2.3.9s1.7.3 2.6.3c2.1 0 3.7-.3 4.8-1s1.6-1.7 1.6-2.7zm43.2 15.5h-27.6v-6.6H445v6.6z"
        />
        <circle cx="65.9" cy="66.8" r="9.5" fill="#30a9b2" />
      </svg> -->
    </header>

    <div class="content-container">
      <div class="toolbar">
        <div class="left-toolbar">
          <button
            class="refresh-btn generate-btn"
            :disabled="$state.apiKey === ''"
          >
            Generate Design ðŸ¤–
          </button>
          <button class="refresh-btn">
            <input
              type="text"
              placeholder="OpenAI API Key..."
              v-model="$state.apiKey"
            />
          </button>
        </div>
        <div class="right-toolbar">
          <!--           <button class="refresh-btn" disabled>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24"
              viewBox="0 -960 960 960"
              width="24"
            >
              <path
                d="M280-200v-80h284q63 0 109.5-40T720-420q0-60-46.5-100T564-560H312l104 104-56 56-200-200 200-200 56 56-104 104h252q97 0 166.5 63T800-420q0 94-69.5 157T564-200H280Z"
              />
            </svg>
          </button>
          <button class="refresh-btn" disabled>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24"
              viewBox="0 -960 960 960"
              width="24"
            >
              <path
                d="M396-200q-97 0-166.5-63T160-420q0-94 69.5-157T396-640h252L544-744l56-56 200 200-200 200-56-56 104-104H396q-63 0-109.5 40T240-420q0 60 46.5 100T396-280h284v80H396Z"
              />
            </svg>
          </button> -->
          <button
            class="refresh-btn"
            @click="
              $state.savedBlocks = [
                {
                  label: 'Block #1',
                  columnAmount: 12,
                  rowHeightAmount: 50,
                  rowAmount: 12,
                },
                {
                  label: 'Block #2',
                  columnAmount: 6,
                  rowHeightAmount: 50,
                  rowAmount: 4,
                },
              ]
            "
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              height="24"
              viewBox="0 -960 960 960"
              width="24"
            >
              <path
                d="M160-160v-80h110l-16-14q-52-46-73-105t-21-119q0-111 66.5-197.5T400-790v84q-72 26-116 88.5T240-478q0 45 17 87.5t53 78.5l10 10v-98h80v240H160Zm400-10v-84q72-26 116-88.5T720-482q0-45-17-87.5T650-648l-10-10v98h-80v-240h240v80H690l16 14q49 49 71.5 106.5T800-482q0 111-66.5 197.5T560-170Z"
              />
            </svg>
          </button>
          <!--           <button class="refresh-btn">
            Max Width <input type="number" placeholder="100%" />
          </button> -->

          <button class="refresh-btn" @click="handleAdd()">New Block</button>
          <button @click="$state.mainTool = 'prompt'">View Prompt</button>

          <button class="export-btn" @click="$state.mainTool = 'export'">
            Export Code
          </button>
          <button class="hire-btn">
            <a href="https://leniolabs.com" target="_blank">Hire us!</a>
          </button>
        </div>
      </div>
      <div class="fake-modal" v-if="$state.mainTool === 'export'">
        <div class="backdrop" @click="$state.mainTool = 'canvas'"></div>
        <div class="fake-modal-content">
          <div class="fake-modal-close" @click="$state.mainTool = 'canvas'">
            Ã—
          </div>

          <h2>Export Code</h2>
          <div>
            <div class="code-block"></div>
          </div>
          <div class="fake-modal-actions">
            <button @click="$state.mainTool = 'canvas'">Close</button>
          </div>
        </div>
      </div>
      <div class="fake-modal" v-if="$state.mainTool === 'prompt'">
        <div class="backdrop" @click="$state.mainTool = 'canvas'"></div>
        <div class="fake-modal-content">
          <div class="fake-modal-close" @click="$state.mainTool = 'canvas'">
            Ã—
          </div>

          <h2>View Prompt</h2>
          <div>
            <div class="prompt-block"></div>
          </div>
          <div class="fake-modal-actions">
            <button @click="$state.mainTool = 'canvas'">Close</button>
          </div>
        </div>
      </div>
      <nuxt />
    </div>
  </div>
</template>

<script>
export default {
  scrollToTop: false,
  data() {
    return {
      isOpen: false,
      numberOfMarks: 400,
      markSpacing: 5,
    };
  },
  created() {
    console.log(process);
  },
  methods: {
    handleAdd() {
      this.$state.savedBlocks.push({
        label: `Block #${this.$state.savedBlocks.length + 1}`,
        columnAmount: 6,
        rowHeightAmount: 50,
        rowAmount: 4,
      });
    },
    isLongMark(n) {
      // Determines if the mark should be long based on its position
      return n % 10 === 0; // Every 10th mark is a long mark
    },
  },
};
</script>
<style lang="scss">
.st0 {
  fill: #fff;
}
html {
  box-sizing: border-box;
  font-family: arial, helvetica, sans-serif;
  color: #222;

  p {
    color: #676c6f;
    strong {
      color: #676c6f;
    }
  }
}
*,
*:before,
*:after {
  box-sizing: inherit;
}

#Layer_1 {
  width: 122px;
  opacity: 1;
  margin-left: auto;
  cursor: pointer;
  &:hover {
    opacity: 1;
  }
}

.relogo {
  align-items: center;
}
#__layout,
#__layout > div,
#__nuxt,
html,
body {
  //background: #1e1e1e;

  //min-height: 100vh;
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}
body {
  padding-top: 25px;
  padding-left: 15px;
  padding-right: 15px;
  /*   background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2 2'%3E%3Cpath d='M1 2V0h1v1H0v1z' fill-opacity='.025'/%3E%3C/svg%3E")
    0 0/16px 16px #fff; */
  background: repeating-linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.05),
    rgba(255, 255, 255, 0.05),
    rgba(255, 255, 255, 0.05),
    rgba(255, 255, 255, 0.05) 4px,
    rgba(0, 0, 0, 0.05) 6px
  );
  background: linear-gradient(100deg, #000000, #32174d);
  //background: #000;
}

.welcome-banner {
  color: #ccc;
  display: flex;
  align-items: center;
  line-height: 1.5;
  font-family: monospace;
  max-width: 130ch;
}
h1 {
  font-size: 20px;
}

header {
  display: flex;
  flex-direction: row;
  position: absolute;
  top: 15px;
  left: 20px;
}

button {
  max-width: max-content;
  background: #01579b;
  padding: 0 14px;
  font-size: 13px;
  text-shadow: none;
  font-family: Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace;
  color: #fff;
  border: 0;
  border-radius: 2px;
  cursor: pointer;
  &[disabled] {
    opacity: 0.5;
    pointer-events: none;
  }
}

button:hover {
  background: #014982;
}

header > div {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

a,
textarea {
  font-size: 13px;
  font-family: Consolas, Monaco, Andale Mono, Ubuntu Mono, monospace;
}

textarea {
  width: 90%;
  padding: 10px;
  border: 0;
  color: #ddd;
}

textarea:focus {
  outline: 0;
}

p,
ul,
h1,
h2 {
  margin: 0;
}

ul {
  padding-left: 25px;
}

ul li {
  margin-bottom: 10px;
}

.prompter {
  max-width: 320px;
  background: #fff;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  margin: 20px;
}
header h1 {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 24px;
  font-weight: lighter;
  min-width: max-content;
  color: #fff;
}

header h2 {
  color: #999;
  font-weight: normal;
  font-size: 14px;
  top: -1px;
  position: relative;
}

header h1 span {
  font-weight: 600;
  padding-right: 2px;
}
.hire-us-btn {
  flex: 1;
  background: #c2185b;
  border-radius: 30px;
  color: #fff;
  display: block;
  font-size: 0.9rem;
  letter-spacing: 0.2px;
  padding: 8px 20px;
  text-decoration: none;
  text-align: center;
  transition: all 0.2s ease-in-out;
  text-shadow: rgba(21, 21, 21, 0.3) 0 1px 1px;
  max-width: max-content;
  margin-bottom: 0;
  font-size: 12px;
  max-height: 34px;
  margin-top: 5px;
  display: none;
}

.promofooter {
  display: flex;
  flex-direction: column;
}

.promoheader {
  flex-wrap: nowrap;
  max-height: 70px;
  flex: 0;
}

hr {
  border: 0;
  border-top: 1px solid #444;
  width: 100%;
}

.promosettings {
  display: flex;
}

#__layout > div {
  display: flex;
  flex-direction: column;
}

.content-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  padding-left: 160px;

  .toolbar {
    padding-bottom: 10px;
    display: flex;
    gap: 10px;
    justify-content: space-between;
    button {
      height: 36px;
      //min-width: 100px;
      box-shadow: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17),
        0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08),
        0px 7px 14px 0px rgba(0, 0, 0, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      svg {
        fill: #fff;
        width: 14px;
      }
      &.export-btn {
        background: #388e3c;
        &:hover {
          background: #2e7532;
        }
      }
      &.hire-btn {
        background: #c2185b;
        &:hover {
          background: #a3144d;
        }
      }
      &.refresh-btn {
        background: transparent;
        border: 1px solid #666;
        min-width: max-content;
        color: #ddd;
        &:hover {
          background: rgba(255, 255, 255, 0.1);
        }
        &.generate-btn {
          background: linear-gradient(45deg, #388e3c, #01579b);
          border: 0;
          transition: all 0.2s linear;
          &:hover {
            background: linear-gradient(45deg, #317134, #013b67);
            transition: all 0.2s linear;
          }
        }
      }
    }
    > div {
      display: flex;
      gap: 10px;
    }
  }
}

.fake-modal {
  position: fixed;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 9999999;
  display: flex;
  padding-top: 150px;
  justify-content: center;
  align-items: flex-start;
  .backdrop {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
  }
  .fake-modal-close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    color: #ccc;
    cursor: pointer;
    &:hover {
      color: #444;
    }
  }
  .fake-modal-content {
    background: #fff;
    position: relative;
    padding: 20px;
    align-items: flex-start;
    box-shadow: 0 0 4px 2px rgba(0, 0, 0, 0.25);
    min-width: 600px;
    border-radius: 3px;
  }
  h2 {
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
  }
  .code-block {
    height: 250px;
    border: 1px solid #ddd;
    background: #151515;
    position: relative;
    &:after {
      position: absolute;
      top: 0;
      width: 30px;
      left: 0;
      bottom: 0;
      background: #333;
      content: "";
    }
    &:before {
      content: "Coming Soon";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      color: #666;
      align-items: center;
      justify-content: center;
    }
  }
  .prompt-block {
    height: 250px;
    border: 1px solid #ddd;
    background: #fafafa;
    position: relative;
    &:before {
      content: "Coming Soon";
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      color: #ccc;
      align-items: center;
      justify-content: center;
    }
  }
  button {
    min-height: 34px;
    margin-top: 10px;
  }
}

button a {
  text-decoration: none;
  color: #eee;
}
</style>
